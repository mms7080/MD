<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/extras/spring-security">
<body>
<!-- ํค๋ fragment -->
<header th:fragment="site-header" class="site-header">
  <div class="container header-inner">
    <!-- ํค๋ ๋ก๊ณ -->
    <a class="brand" th:href="@{/home}" aria-label="ํ์ผ๋ก">
      <img class="brand-mark" src="https://kafolio.kr/static/icon.ico" alt="" width="20" height="20" />
      <span class="brand-text">kafolio</span>
    </a>

    <nav class="nav">
      <button class="nav-toggle" aria-expanded="false" aria-controls="primary-menu" aria-label="๋ฉ๋ด ์ด๊ธฐ">
        <span class="nav-toggle-bar"></span>
        <span class="nav-toggle-bar"></span>
        <span class="nav-toggle-bar"></span>
      </button>
      <ul id="primary-menu" class="nav-list">
        <li><a th:href="@{/home}" th:classappend="${page == 'home'} ? ' is-active'">home</a></li>
        <li><a th:href="@{/detail}" th:classappend="${page == 'detail'} ? ' is-active'">detail</a></li>
      </ul>
    </nav>

    <div class="header-actions">
      <button id="btnTheme" class="btn ghost" aria-pressed="false" aria-label="๋คํฌ๋ชจ๋ ์ํ">๐</button>

      <!-- ๋ก๊ทธ์ธ ์ -->
      <span sec:authorize="isAnonymous()">
        <a th:href="@{/signin}" class="btn ghost">๋ก๊ทธ์ธ</a>
        <a th:href="@{/signup}" class="btn primary">ํ์๊ฐ์</a>
      </span>

      <!-- ๋ก๊ทธ์ธ ํ -->
      <span sec:authorize="isAuthenticated()">
        <a th:href="@{/mypage}" class="btn ghost">๋ง์ดํ์ด์ง</a>
        <form th:action="@{/logout}" method="post" style="display:inline">
          <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
          <button type="submit" class="btn primary">๋ก๊ทธ์์</button>
        </form>
      </span>
    </div>
  </div>
</header>
</body>
</html>
