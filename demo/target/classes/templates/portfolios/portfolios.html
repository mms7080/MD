<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
    <head>
        <meta charset="UTF-8" />
        <title
            th:text="${portfolios != null} ? portfolios.title : 'Ìè¨Ìä∏Ìè¥Î¶¨Ïò§ ÏóÜÏùå'"
        >
            Portfolio
        </title>
        <meta name="_csrf" th:content="${_csrf.token}" />
        <meta name="_csrf_header" th:content="${_csrf.headerName}" />

        <link rel="stylesheet" href="/css/header.css" />
        <link rel="stylesheet" href="/css/portfolios/portfolios-detail.css" />
        <link rel="stylesheet" href="/css/footer.css" />
        <link rel="stylesheet" href="/css/users/auth-modal.css" />
    </head>
    <body class="portfolio-detail">
        <!-- Ìó§Îçî -->
        <div th:replace="fragments/modals :: authModals"></div>
        <div th:replace="fragments/header :: header('portfolio')"></div>

        <main class="container">
            <!-- ‚ùå Not Found -->
            <div th:if="${notFound}" class="error-box">
                <h1>Ìè¨Ìä∏Ìè¥Î¶¨Ïò§Î•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.</h1>
                <a href="/home">‚Üê ÌôàÏúºÎ°ú</a>
            </div>

            <!-- ‚úÖ Portfolio Content -->
            <div th:if="${portfolios != null}" class="portfolio-detail-grid">
                <!-- ÏôºÏ™Ω: Ïù¥ÎØ∏ÏßÄ -->
                <div class="gallery">
                    <!-- ÎåÄÌëú Ïù¥ÎØ∏ÏßÄ -->
                    <figure class="main-photo">
                        <img
                            id="mainImage"
                            th:src="${portfolios.screenshots[0]}"
                            alt="ÎåÄÌëú Ïù¥ÎØ∏ÏßÄ"
                        />
                    </figure>

                    <!-- Ïç∏ÎÑ§Ïùº -->
                    <div class="thumb-list">
                        <img
                            th:each="img : ${portfolios.screenshots}"
                            th:src="${img}"
                            alt="Ïç∏ÎÑ§Ïùº"
                            onmouseover="changeMainImage(this.src)"
                        />
                    </div>
                </div>

                <div class="info-box">
  <!-- Ï†úÎ™© + Îã§Ïö¥Î°úÎìú(Ï†úÎ™© Ïò§Î•∏Ï™Ω, ÏôºÏ™ΩÏ†ïÎ†¨) -->
<div class="pf-title-row">
  <h1 class="title" th:text="${portfolios.title}">Ï†úÎ™©</h1>

  <!-- From Uiverse.io by vinodjangid07  -->
  <!-- Î≤ÑÌäºÏùÑ <a>Î°ú Î∞îÍøî Îã§Ïö¥Î°úÎìú ÎßÅÌÅ¨ Ïó∞Í≤∞ -->
  <a th:if="${portfolios.download}"
     th:href="${portfolios.download}"
     download
     class="Btn dl-btn dl-btn--sm"
     aria-label="Download"
     title="Download">
    <svg class="svgIcon" viewBox="0 0 384 512" height="1em" xmlns="http://www.w3.org/2000/svg">
      <path d="M169.4 470.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 370.8 224 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 306.7L54.6 265.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"></path>
    </svg>
    <span class="icon2"></span>
    <span class="tooltip">Download</span>
  </a>
</div>


  <!-- ÏÑ§Î™Ö -->
  <div class="desc" th:text="${portfolios.desc}">ÏÑ§Î™Ö</div>

  <!-- Ï¢ãÏïÑÏöî Î≤ÑÌäº (Uiverse) : Î°úÍ∑∏Ïù∏ ÏÇ¨Ïö©Ïûê -->
<div class="like-area">
  <div class="like-button">
    <!-- Ï≤¥ÌÅ¨Î∞ïÏä§Îäî Ïï†ÎãàÎ©îÏù¥ÏÖòÏö©, ÌÅ¥Î¶≠ ÌÉÄÍπÉÏùÄ label -->
    <input class="on" id="heart" type="checkbox" />

    <!-- ÏÑúÎ≤Ñ Ìò∏Ï∂úÏùÑ ÏúÑÌï¥ id=likeBtn Ïú†ÏßÄ + Ìè¨Ìä∏Ìè¥Î¶¨Ïò§ id Î∞îÏù∏Îî© -->
    <label id="likeBtn"
           class="like"
           for="heart"
           th:attr="data-id=${portfolios.id}"
           title="Ï¢ãÏïÑÏöî"
           aria-label="Ï¢ãÏïÑÏöî">
      <svg class="like-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path d="m11.645 20.91-.007-.003-.022-.012a15.247 15.247 0 0 1-.383-.218 25.18 25.18 0 0 1-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0 1 12 5.052 5.5 5.5 0 0 1 16.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 0 1-4.244 3.17 15.247 15.247 0 0 1-.383.219l-.022.012-.007.004-.003.001a.752.752 0 0 1-.704 0l-.003-.001Z"></path>
      </svg>
      <span class="like-text">Likes</span>
    </label>

    <!-- Ïï†ÎãàÎ©îÏù¥ÏÖòÏö© ÌòÑÏû¨/Îã§Ïùå Ïπ¥Ïö¥Ìä∏ -->
    <span id="likeCount" class="like-count one" th:text="${portfolios.likes}">0</span>
    <span id="likeCountNext" class="like-count two" th:text="${portfolios.likes + 1}">1</span>
  </div>
</div>


    <!-- Ï¢ãÏïÑÏöî Î≤ÑÌäº (Uiverse) : ÎπÑÎ°úÍ∑∏Ïù∏ ‚Üí Î°úÍ∑∏Ïù∏ Ïú†ÎèÑ -->
<div class="like-area" sec:authorize="isAnonymous()">
  <a href="/signin" id="likeSigninTrigger" class="like-button as-link" title="Î°úÍ∑∏Ïù∏ ÌõÑ Ï¢ãÏïÑÏöî Í∞ÄÎä•" aria-label="Î°úÍ∑∏Ïù∏ ÌõÑ Ï¢ãÏïÑÏöî Í∞ÄÎä•">
    <div class="like">
      <svg class="like-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path d="m11.645 20.91-.007-.003-.022-.012a15.247 15.247 0 0 1-.383-.218 25.18 25.18 0 0 1-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0 1 12 5.052 5.5 5.5 0 0 1 16.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 0 1-4.244 3.17 15.247 15.247 0 0 1-.383.219l-.022.012-.007.004-.003.001a.752.752 0 0 1-.704 0l-.003-.001Z"></path>
      </svg>
      <span class="like-text">Likes</span>
    </div>
    <span class="like-count one" th:text="${portfolios.likes}">0</span>
  </a>
</div>


  <!-- ÌÉúÍ∑∏ -->
  <div class="tags">
    <span class="label">Tags:</span>
    <div class="tag-wrap">
      <a th:each="tag : ${portfolios.tags}" th:href="@{/home(q=${tag})}"
         th:text="${tag}" class="tag"></a>
    </div>
  </div>

  <!-- Link: (Í∏∞Ï°¥ Ïú†ÏßÄ) -->
  <p>
    <span class="label">Link:</span>
    <a th:href="${portfolios.link}" target="_blank"
       th:text="${portfolios.link}" class="custom-link"></a>
  </p>

  <!-- Views (Í∑∏ÎåÄÎ°ú) -->
  <p><span class="label">Views:</span> <span id="viewCount">0</span></p>

  <!-- ÏïÑÏù¥ÏΩò (Í∑∏ÎåÄÎ°ú) -->
  <aside class="summary-logo" th:if="${portfolios.icon}">
    <figure class="logo-card" title="portfolios Logo">
      <img th:src="${portfolios.icon}" th:alt="|${portfolios.title} ÏïÑÏù¥ÏΩò|" loading="lazy" decoding="async"/>
    </figure>
  </aside>
</div>

                </div>
            </div>

            <!-- ÌåÄÏõê & Ïó≠Ìï† (ÎåìÍ∏Ä ÏúÑ, ÎÇòÏó¥Ìòï) -->
<section class="team-list-section">
  <h2>ÌåÄÏõê & Ïó≠Ìï†</h2>
  <ul class="team-list" role="list">
    <li class="team-item" th:each="m : ${portfolios.team}">
      <strong class="member-name" th:text="${m.name}"></strong>
      <span class="member-role" th:text="${m.role}"></span>
    </li>
  </ul>
</section>


            <div class="comment-section">
                <h2>ÎåìÍ∏Ä</h2>

                <!-- ÌèâÍ∑† Î≥ÑÏ†ê(Î™®ÎëêÏóêÍ≤å Î≥¥ÏûÑ) -->
                <div class="rating-summary">
                    <div
                        class="stars readonly"
                        id="avgStars"
                        aria-label="ÌèâÍ∑† Î≥ÑÏ†ê"
                    ></div>
                    <span class="star-symbol">‚≠ê</span>
                    <span id="avgScore">0.0</span>
                    <span class="count">(<span id="ratingCount">0</span>)</span>
                </div>

                <!-- Î°úÍ∑∏Ïù∏ ÏÇ¨Ïö©Ïûê Ï†ÑÏö©: Î≥ÑÏ†ê + ÎåìÍ∏Ä Ìèº -->
                <div sec:authorize="isAuthenticated()">
                    <div class="rate-input">
                        <label class="rate-label">ÎÇ¥ Î≥ÑÏ†ê: </label>
                        <div
                            id="writeStars"
                            class="stars write"
                            role="radiogroup"
                            aria-label="Î≥ÑÏ†ê ÏÑ†ÌÉù(1~5)"
                        >
                            <!-- JSÍ∞Ä 5Í∞ú Î≥ÑÏùÑ ÎßåÎì§Ïñ¥Ï§çÎãàÎã§ -->
                        </div>
                        <span id="myScoreText">0</span>/5
                    </div>

                    <form id="commentForm">
                        <textarea
                            id="commentContent"
                            placeholder="ÎåìÍ∏ÄÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî..."
                            rows="4"
                            required
                        ></textarea>
                        <button type="submit">Îì±Î°ù</button>
                    </form>
                </div>

                <!-- ÎπÑÌöåÏõê ÏïàÎÇ¥ -->
                <div sec:authorize="isAnonymous()">
                    <p class="muted">
                        Î°úÍ∑∏Ïù∏ ÌõÑ ÎåìÍ∏Ä/Î≥ÑÏ†êÏùÑ ÎÇ®Í∏∏ Ïàò ÏûàÏäµÎãàÎã§.
                        <a href="/signin">Î°úÍ∑∏Ïù∏</a>
                    </p>
                </div>

                <!-- ÎåìÍ∏Ä Î¶¨Ïä§Ìä∏ -->
                <div id="commentList" class="comments"></div>
            </div>

            

        <!-- üîó JavaScript -->
        <script>
            function changeMainImage(src) {
                document.getElementById("mainImage").src = src;
            }
        </script>
        <script src="/js/portfolios/portfolios-detail.js"></script>
        <div th:replace="fragments/footer :: footer"></div>
    </body>
</html>
