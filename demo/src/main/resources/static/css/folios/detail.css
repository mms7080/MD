/* 색/레이아웃 변수 */
:root {
    --bg: #0e1116;
    --text: #e8edf4;
    --muted: #9aa3ad;
    --border: #212933;
    --maxw: 1280px;
}

/* 기본 */
html,
body {
    margin: 0;
    padding: 0;
    background: var(--bg);
    color: var(--text);

    -webkit-font-smoothing: antialiased;
}

/* 컨테이너 */
.fd-wrap {
    max-width: var(--maxw);
    margin: 32px auto 80px;
    padding: 0 16px;
    box-sizing: border-box;
}

/* 헤더 */
.fd-head {
    margin: 0 0 16px;
}
.fd-title {
    font-size: 28px;
    font-weight: 800;
    margin: 0px;
}
.fd-meta {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 14px;
    color: var(--muted);
}
.fd-meta .dot {
    opacity: 0.6;
}
.fd-badge {
    padding: 2px 8px;
    border-radius: 999px;
    background: #eef2ff;
    color: #4f46e5;
    font-size: 12px;
}
.fd-head-top {
    display: flex;
    gap: 16px;
    align-items: center;
}
.fd-avatar {
    width: 48px;
    height: 48px;
    border-radius: 50%;
    object-fit: cover;
}
.fd-head-texts {
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.fd-stack {
    display: grid;
    gap: 0; /* ← 공백 제거 */
}
.fd-slide {
    margin: 0;
    padding: 0;
}
.fd-slide img {
    display: block; /* 인라인 간격 제거 */
    width: 100%;
    height: auto;
    border: 1px solid var(--muted);
    border-radius: 0;
    box-shadow: none;
    background: transparent;
}

/* 비었을 때 */
.fd-empty {
    text-align: center;
    color: var(--muted);
    padding: 48px 0;
}

/* 나가기 버튼 */
.exit-btn {
    --h: 37px;
    position: absolute;
    right: 12px;
    top: 50%;
    transform: translateY(-50%);
    display: flex;
    align-items: center;
    justify-content: flex-start;
    height: var(--h);
    min-width: var(--h);
    width: var(--h);
    padding: 0 10px;
    border-radius: 10px;
    background: #172233;
    border: 1px solid var(--border);
    color: var(--text);
    cursor: pointer;
    overflow: hidden;
    transition: width 0.2s ease, background 0.2s ease, border-radius 0.2s ease;
}

.exit-btn .sign {
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: width 0.2s ease;
}

.exit-btn .sign svg {
    width: 18px;
    height: 18px;
    fill: currentColor;
}

.exit-btn .text {
    white-space: nowrap;
    margin-left: 8px;
    width: 0;
    opacity: 0;
    transform: translateX(6px);
    transition: opacity 0.2s ease, width 0.2s ease, transform 0.2s ease;
    font-weight: 700;
    font-size: 14px;
}

.exit-btn:hover {
    background: #121922;
    width: 120px;
    border-radius: 40px;
}

.exit-btn:hover .sign {
    width: 36%;
}

.exit-btn:hover .text {
    width: auto;
    opacity: 1;
    transform: none;
}

/* 모바일 */
@media (max-width: 768px) {
    .fd-wrap {
        margin: 16px auto 48px;
        padding: 0 10px;
    }
    .fd-title {
        font-size: 22px;
    }
}

/* ===== Print: 슬라이드만, 크롭 없이 꽉 차게 ===== */
@media print {
    /* 페이지 자체 여백 제거(A4 기준) */
    @page {
        size: A4 portrait;
        margin: 0;
    }

    /* 화면용 레이아웃/헤더/푸터/액션바 숨김 */
    .site > * {
        display: none !important;
    }
    #folio-detail,
    #folio-detail .fd-body,
    #folio-detail .fd-stack {
        display: block !important;
    }
    #folio-detail {
        margin: 0 !important;
        padding: 0 !important;
        max-width: none !important;
    }
    .fd-head,
    .fd-actions,
    .fd-empty {
        display: none !important;
    }

    /* 슬라이드: 한 장당 한 페이지 */
    .fd-stack {
        margin: 0 !important;
        padding: 0 !important;
    }
    .fd-slide {
        margin: 0 !important;
        padding: 0 !important;
        page-break-after: always; /* 다음 페이지로 넘김 */
        break-after: page;
    }
    .fd-slide:last-child {
        page-break-after: auto;
        break-after: auto;
    }

    /* 이미지: 페이지에 맞춰 비율 유지하며 최대 확장(잘림 방지) */
    .fd-slide img {
        display: block !important;
        width: 210mm; /* A4 가로폭에 맞춤 */
        height: 297mm; /* A4 세로폭에 맞춤 */
        object-fit: contain; /* 크롭 없이 비율 유지 */
        object-position: center center;
        border: 0 !important;
        box-shadow: none !important;
        background: #fff !important;
    }

    /* 브라우저가 인쇄시 강제로 생기는 여백/테두리 제거 보정 */
    html,
    body {
        background: #fff !important;
        margin: 0 !important;
        padding: 0 !important;
        -webkit-print-color-adjust: exact;
        print-color-adjust: exact;
    }
}

/* ===== Sticky Actions (오른쪽 플로팅바) - 최종본 ===== */

/* 컨텐츠 우측 가장자리와 거의 붙도록 위치 계산 */
.fd-actions {
    position: fixed;
    top: 75%;
    right: max(12px, calc((100vw - var(--maxw)) / 2 - 96px));
    transform: translateY(-50%);
    display: flex;
    flex-direction: column;
    gap: 14px;
    z-index: 3000;
}

/* 버튼 + 캡션 묶음 */
.fd-act {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 6px; /* 아이콘과 캡션 사이 간격 */
}

/* 원 버튼 (확대 버전) */
.fd-action {
    width: 56px;
    height: 56px;
    border-radius: 50%;
    border: 1px solid var(--line, rgba(255, 255, 255, 0.14));
    background: var(--surface, rgba(255, 255, 255, 0.06));
    backdrop-filter: blur(6px);
    display: grid;
    place-items: center;
    cursor: pointer;
    user-select: none;
    transition: transform 0.12s ease, background 0.12s ease,
        border-color 0.12s ease;
}

.fd-action .fd-ico {
    font-size: 22px; /* 아이콘도 키움 */
    line-height: 1;
}

/* 호버/액티브 */
.fd-action:hover {
    transform: translateY(-1px);
    background: rgba(255, 255, 255, 0.1);
    border-color: rgba(255, 255, 255, 0.24);
}
.fd-action:active {
    transform: translateY(0);
}

/* 캡션 (공유/저장/좋아요/위로) */
.fd-cap {
    font-size: 12px;
    line-height: 1;
    color: var(--muted, #9aa3ad);
    user-select: none;
}

/* 라이트 모드 대비 */
html[data-theme="light"] .fd-action {
    border-color: rgba(15, 23, 42, 0.12);
    background: rgba(15, 23, 42, 0.04);
}
html[data-theme="light"] .fd-action:hover {
    background: rgba(15, 23, 42, 0.08);
    border-color: rgba(15, 23, 42, 0.2);
}

/* 작은 화면에서는 위치 조정/숨김 */
@media (max-width: 1024px) {
    .fd-actions {
        right: 10px;
    }
}
@media (max-width: 768px) {
    .fd-actions {
        display: none;
    }
}

/* 인쇄 시 숨김 */
@media print {
    .fd-actions {
        display: none !important;
    }
}
