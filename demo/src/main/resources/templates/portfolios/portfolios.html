<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
  <meta charset="UTF-8">
  <title th:text="${portfolios != null} ? ${portfolios.title} : '포트폴리오 없음'">Portfolio</title>
  <link rel="stylesheet" href="/portfolios/portfolios-detail.css">
  
</head>

<body>
<main class="container">

  <!-- ❌ Not Found -->
  <div th:if="${notFound}" class="error-box">
    <h1>포트폴리오를 찾을 수 없습니다.</h1>
    <a href="/home">← 홈으로</a>
  </div>

  <!-- ✅ Portfolio Content -->
  <div th:if="${portfolios != null}" class="card">
  
    <h1 class="title" th:text="${portfolios.title}">제목</h1>
    
    <!-- 기존 <p class="creator">...</p> 과 meta-right(작성일) 대신 사용 -->
      <p class="header-meta">
        <span class="creator-name">
          Writer: <span th:text="${portfolios.creator}"></span>
        </span>
        <span class="created-date"> WriterDate: <span th:text="${portfolios.createdAt}"></span></span>
      </p>
    
      <!-- 여기 안에 강조하고 싶은 콘텐츠들 -->
    
      <!-- 🖼 썸네일 카드 그리드 -->
      <!-- 프로젝트 스크린샷 개수 사용 -->
        <div class="gallery-box">
          <div class="thumb-grid"
              th:style="'--cols:' + ${#lists.size(portfolios.screenshots)}">
            <div class="thumb-card" th:each="img : ${portfolios.screenshots}">
              <img th:src="${img}" th:attr="data-original=${img}" class="thumb" alt="screenshot">
            </div>
          </div>
        </div>


      <!-- 🔍 라이트박스 모달 (반드시 body 직속) -->
    <!-- 🔍 라이트박스 모달 (반드시 body 직속) -->
    <div id="lightbox" class="lightbox" hidden aria-hidden="true">
      <button class="lb-btn lb-prev" aria-label="이전">‹</button>
    
      <div class="lb-content">
        <button class="lb-btn lb-close" aria-label="닫기">×</button>
        <img class="lb-img" alt="preview" />
      </div>
    
      <button class="lb-btn lb-next" aria-label="다음">›</button>
    </div>




    <div>
      <p class="desc" th:text="${portfolios.desc}"></p>
    </div>

    <!-- 요약 섹션 래퍼 -->
<div class="summary-grid">
  <!-- 왼쪽: 기존 내용 전부를 이 div 안으로 옮겨 주세요 -->
  <div class="summary-left">

    <!-- 접속 링크 -->
    <div class="links">
      <span class="link-label">Link : </span>
      <a th:href="${portfolios.link}" target="_blank" th:text="${portfolios.link}" class="custom-link"></a>
     </div>

    <!-- 조회수  -->
    <div class="view-count-box">
      <span class="view-label">Views:</span>
      <span id="viewCount">0</span>
    </div>


    <!-- 🏷️ 태그 -->
    <div class="tags">
      <strong>Tags:</strong>
      <div class="tag-wrap">
        <span th:each="tag : ${portfolios.tags}" th:text="${tag}" class="tag"></span>
      </div>
    </div>

  
  

   <!-- 👁️ 조회수 / ❤️ 좋아요 / 📅 작성일 -->


    <!-- ❤️ 좋아요 -->
    <div class="meta-bar">
  <div class="meta-left">
    <button id="likeBtn" class="like-btn" title="좋아요">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
           stroke-width="1.5" stroke="currentColor" class="heart-icon">
        <path stroke-linecap="round" stroke-linejoin="round"
              d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 
              2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 
              8.25c0 7.22 9 12 9 12s9-4.78 9-12Z" />
      </svg>
      <span id="likeCount" th:text="${portfolios.likes}">0</span>
    </button>
  </div>

  
</div>

    <!-- 다운로드 -->
     <div class="downloads">
      <span class="download-label">Download : </span>
      <a th:href="${portfolios.download}" download th:text="${portfolios.download}" class="download-link"></a>
    </div>

  </div>
  <!-- 오른쪽: 아이콘(있을 때만) -->
  <aside class="summary-logo" th:if="${portfolios.icon}">
    <figure class="logo-card" title="portfolios Logo">
      <img th:src="${portfolios.icon}"
           th:alt="|${portfolios.title} 아이콘|"
           loading="lazy" decoding="async">
    </figure>
  </aside>
</div>
    



      <!-- 👥 팀원 소개 (전체 2열 그리드) -->
<div class="team-section">
  <h2 th:text="${#lists.isEmpty(portfolios.team) ? 'Team' : portfolios.team[0].teamName}">Team</h2>


  <!-- 팀원 -->
   <div class="team-card">
  <div class="team-rows">
    <div class="team-row" th:each="member : ${portfolios.team}">
      <!-- 왼쪽: 이름 + 역할뱃지 -->
      <div class="team-name-cell">
        <span class="name" th:text="${member.name}">이름</span>
        <span class="role-badge" th:text="${member.role}">Role</span>
      </div>

      <!-- 오른쪽: 담당(칩) / 텍스트형으로 원하면 아래 주석 참고 -->
      <div class="team-parts-cell">
        <span class="part-chip" th:each="p : ${member.parts}" th:text="${p}">파트</span>

        <!-- ▽ 텍스트 형태 원하면 위 줄 대신 아래 한 줄만 사용
        <span class="parts-text" th:text="${#strings.listJoin(member.parts, ' / ')}"></span>
        -->
      </div>
    </div>
  </div>
</div>
</div>


        

    <!-- 💬 댓글 -->
    <div class="comment-section">
      <h2>댓글</h2>
      <form>
        <textarea placeholder="댓글을 입력하세요..." rows="4"></textarea>
        <button type="submit">등록</button>
      </form>

      <div class="comment"><p><strong>사용자1</strong>: 좋은 프로젝트네요!</p></div>
      <div class="comment"><p><strong>사용자2</strong>: 디자인이 멋져요!</p></div>
    </div>

  </div>
</main>

<!-- 🔗 JavaScript -->
<script src="/portfolios/portfolios-detail.js"></script>


</body>
</html>
