<!DOCTYPE html>
<html lang="ko" data-theme="dark" xmlns:th="http://www.thymeleaf.org">

    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>kafolio – home</title>
        <link rel="stylesheet" href="css/home/home.css" />
        <link rel="stylesheet" href="css/header.css" />
        <link rel="stylesheet" href="css/footer.css" />
        <link rel="stylesheet" href="css/users/auth-modal.css" />
    </head>

    <body>
        <div th:replace="~{fragments/header :: header('')}"></div>
        <div th:replace="~{fragments/modals :: authModals}"></div>

        <!-- home.html (본문만) -->
        <main class="kf-home">
            <!-- 상단: 인기 토픽 + 최신 글 -->
            <section class="home-top">
                <!-- 인기 토픽 -->
                <div class="topics topics-v2">
                    <div class="topics-head">
                        <h2 class="section-title">인기 급상승🔥</h2>
                        <a class="topics-more" href="#">
                            더보기
                            <svg
                                viewBox="0 0 24 24"
                                class="chev"
                                aria-hidden="true"
                            >
                                <path
                                    d="M8 5l8 7-8 7"
                                    fill="none"
                                    stroke="currentColor"
                                    stroke-width="2"
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                />
                            </svg>
                        </a>
                    </div>

                    <div class="topics-grid">
                        <!-- 카드 1 -->
                        <article class="topic2-card">
                            <div class="topic2-visual">
                                <img
                                    class="pv"
                                    src="https://kafolio.kr/static/requests/2025/7/9/boards/ZWY1ZDE0NjY2MjM0Yzg5MDY0MDAzZWVkZTM5Y2E1ZWJjNmYyMDg0YjI0MDc1ODY5OTg5OTljMTY1YTBlODI4Nw==.png"
                                    alt=""
                                />
                                <img
                                    class="pv"
                                    src="https://kafolio.kr/static/requests/2025/7/9/boards/ZTI0YmNkZTMxMjIzY2VkNmRlYmFkZDYyY2M4M2Q2NDJlNTE2MTdmZGUzZDE3MWVkMmE1ZTMxYTc0YjBmNWQ4Yw==.png"
                                    alt=""
                                />
                            </div>
                            <div class="topic2-desc">
                                <a class="topic2-title" href="#">
                                    <strong
                                        >인기 급상승 포트폴리오 지금
                                        만나보세요.</strong
                                    >
                                    <svg
                                        viewBox="0 0 24 24"
                                        class="chev"
                                        aria-hidden="true"
                                    >
                                        <path
                                            d="M8 5l8 7-8 7"
                                            fill="none"
                                            stroke="currentColor"
                                            stroke-width="2"
                                            stroke-linecap="round"
                                            stroke-linejoin="round"
                                        />
                                    </svg>
                                </a>
                                <div class="topic2-meta">
                                    <span class="m"
                                        ><span class="emoji">👁️‍🗨️</span>
                                        1819회</span
                                    >
                                    <span class="m hot"
                                        ><span class="emoji">♥</span> 8개</span
                                    >
                                </div>
                            </div>
                        </article>

                        <!-- 카드 2 -->
                        <article class="topic2-card">
                            <!-- 사진칸(이미지 2~3개 배치 가능) -->
                            <div class="topic2-visual">
                                <!-- 실제 이미지 쓰려면 div 대신 <img class="pv" src="..." alt=""> 로 교체 -->
                                <img
                                    class="pv"
                                    src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTqPe1AlOt5fyZuU-T8HBBuEDNhynI0S8XvAQ&s"
                                    alt=""
                                />
                                <img
                                    class="pv"
                                    src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSdqcAvpg4zECDhcw5bhD9NcI9oFKjl4r9caA&s"
                                    alt=""
                                />
                            </div>

                            <!-- 설명칸 -->
                            <div class="topic2-desc">
                                <a class="topic2-title" href="#">
                                    <strong
                                        >다양한 템플릿으로 나만의 포트폴리오를
                                        만들어보자!</strong
                                    >
                                    <svg
                                        viewBox="0 0 24 24"
                                        class="chev"
                                        aria-hidden="true"
                                    >
                                        <path
                                            d="M8 5l8 7-8 7"
                                            fill="none"
                                            stroke="currentColor"
                                            stroke-width="2"
                                            stroke-linecap="round"
                                            stroke-linejoin="round"
                                        />
                                    </svg>
                                </a>
                                <div class="topic2-meta">
                                    <span class="m"
                                        ><span class="emoji">👁️‍🗨️</span>
                                        1994회</span
                                    >
                                    <span class="m hot"
                                        ><span class="emoji">♥</span> 22개</span
                                    >
                                </div>
                            </div>
                        </article>
                    </div>
                </div>

                <!-- 공지사항 -->
                <div class="trends-v2">
                    <div class="trends-head">
                        <h2 class="section-title">공지사항</h2>
                    </div>

                    <ul class="trend-list">
                        <li>
                            <a href="#">
                                <strong>Edge Functions 도입 가속화</strong>
                                <span class="meta"
                                    >ZDNet Korea / 김라임 기자 /
                                    2025.08.05</span
                                >
                            </a>
                        </li>
                        <li>
                            <a href="#">
                                <strong
                                    >웹앱에서 AI 프롬프트 컴포넌트
                                    표준화</strong
                                >
                                <span class="meta"
                                    >Medium / J. Lee / 2025.08.03</span
                                >
                            </a>
                        </li>
                        <li>
                            <a href="#">
                                <strong
                                    >CSS Container Queries 실무 적용
                                    사례</strong
                                >
                                <span class="meta"
                                    >Smashing Magazine / R. Park /
                                    2025.08.01</span
                                >
                            </a>
                        </li>
                        <li>
                            <a href="#">
                                <strong>WebGPU 채택과 3D UI 트렌드</strong>
                                <span class="meta"
                                    >Mozilla Blog / K. Han / 2025.07.29</span
                                >
                            </a>
                        </li>
                    </ul>
                </div>
            </section>

            <section class="home-collections">
                <h2 class="home-section-title">포트폴리오</h2>
                <div class="col-grid">
              
                  <article class="collection" th:each="portfolio : ${portfolios}">
                    <header class="col-head">
                      <!-- 아이콘 -->
                      <span class="brand"
                            th:if="${#strings.isEmpty(portfolio.icon)}"
                            th:text="${portfolio.title != null ? portfolio.title.substring(0,1) : '•'}">
                      </span>
                      <img th:if="${!#strings.isEmpty(portfolio.icon)}"
                           class="brand"
                           th:src="${portfolio.icon}"
                           alt="icon" />
              
                      <div class="info">
                        <h3 th:text="${portfolio.title}">프로젝트명</h3>
                        <p class="sub" th:text="${portfolio.desc}">프로젝트 설명</p>
                      </div>
                    </header>
              
                    <!-- ✅ 대표 이미지 (3개까지) -->
                    <div class="shots-row"
     th:if="${portfolio.screenshots != null and portfolio.screenshots.size() > 0}">
  <a class="shot"
     th:each="shot, iter : ${portfolio.screenshots}"
     th:if="${iter.index < 3}"
     th:href="@{|/portfolios/${portfolio.id}|}">
    <img class="shot-img"
         th:src="${shot}"
         th:alt="${portfolio.title + ' 화면'}" />
  </a>
</div>

              
                    <div class="shots-row"
                         th:if="${portfolio.screenshots == null or portfolio.screenshots.size() == 0}">
                      <p class="no-img">이미지가 없습니다</p>
                    </div>
                  </article>
              
                </div>
              </section>
              
              
              
              
              

            <!-- 더보기 -->
            <div class="home-more">
                <a class="more-btn" href="#">더 많은 포트폴리오 보기</a>
            </div>
        </main>

        <div th:replace="~{fragments/footer :: footer}"></div>
    </body>
</html>
