<!DOCTYPE html>
<html lang="ko" data-theme="light" xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>kafolio – Home</title>
  <meta name="description" content="웹페이지 제작 포트폴리오 갤러리" />
  <link rel="stylesheet" href="css/home/home.css" />
  <link rel="stylesheet" href="/css/header.css" />
  <!-- <head> 안의 파비콘 교체 -->
  <link rel="icon" type="image/x-icon" href="https://kafolio.kr/static/icon.ico" />

</head>

<body data-page="home">
  <a class="skip-link" href="#content">본문 바로가기</a>

<!-- 헤더 -->
<header class="site-header" xmlns:sec="https://www.thymeleaf.org/extras/spring-security">
  <div class="container header-inner">
    <!-- 헤더 로고 -->
    <a class="brand" href="/home" aria-label="홈으로">
      <img class="brand-mark" src="https://kafolio.kr/static/icon.ico" alt="" width="20" height="20" />
      <span class="brand-text">kafolio</span>
    </a>

    <nav class="nav">
      <button class="nav-toggle" aria-expanded="false" aria-controls="primary-menu" aria-label="메뉴 열기">
        <span class="nav-toggle-bar"></span>
        <span class="nav-toggle-bar"></span>
        <span class="nav-toggle-bar"></span>
      </button>
      <ul id="primary-menu" class="nav-list">
        <li><a href="/home" class="is-active">home</a></li>
        <li><a href="/detail">detail</a></li>
      </ul>
    </nav>

    <div class="header-actions">
      <button id="btnTheme" class="btn ghost" aria-pressed="false" aria-label="다크모드 전환">🌓</button>

      <!-- 로그인 전 -->
      <span sec:authorize="isAnonymous()">
        <a href="/signin" class="btn ghost">로그인</a>
        <a href="/signup" class="btn primary">회원가입</a>
      </span>

      <!-- 로그인 후 -->
      <span sec:authorize="isAuthenticated()">
        <a href="/mypage" class="btn ghost">마이페이지</a>
        <form th:action="@{/logout}" method="post" style="display:inline">
          <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
          <button type="submit" class="btn primary">로그아웃</button>
        </form>
      </span>
    </div>
  </div>
</header>


  <!-- 히어로 -->
  <section class="hero">
    <div class="container hero-inner">
      <h1>웹 제작 포트폴리오, 한 곳에.</h1>
      <p class="hero-sub">Landing · Product · Admin · Campaign—최신 작업을 기술 스택과 키워드로 탐색하세요.</p>
      <form id="heroSearch" class="hero-search" role="search" aria-label="포트폴리오 검색">
        <input id="searchInputHero" type="search" placeholder="키워드, 태그, 크리에이터 검색" autocomplete="off" />
        <button type="submit" class="btn primary">검색</button>
      </form>
      <ul class="hero-tags" aria-label="빠른 태그">
        <li><button class="tag" data-tag="Landing">#Landing</button></li>
        <li><button class="tag" data-tag="Admin">#Admin</button></li>
        <li><button class="tag" data-tag="SEO">#SEO</button></li>
        <li><button class="tag" data-tag="Accessibility">#Accessibility</button></li>
        <li><button class="tag" data-tag="Animation">#Animation</button></li>
      </ul>
    </div>
  </section>

  <main id="content">
    <!-- 목록 툴바 -->
    <section id="section-projects" class="toolbar">
      <div class="container toolbar-inner">
        <div class="filters">
          <div class="search-inline">
            <input id="searchInput" type="search" placeholder="검색어를 입력하세요 (팀명/제목/태그)" aria-label="목록 검색" />
          </div>
        </div>
        <div class="sorts">
          <label for="sortSelect" class="sr-only">정렬</label>
          <select id="sortSelect" aria-label="정렬">
            <option value="latest">최신순</option>
            <option value="popular">인기순</option>
            <option value="title">제목순</option>
          </select>
          <button id="btnClear" class="btn ghost">초기화</button>
        </div>
      </div>
    </section>

    <!-- 그리드 -->
    <section class="container grid-wrap">
      <div id="grid" class="grid" aria-live="polite" aria-busy="false"></div>
      <div class="grid-footer">
        <button id="btnLoadMore" class="btn" aria-controls="grid">더 보기</button>
        <button id="btnToTop" class="fab" aria-label="맨 위로">↑</button>
      </div>
    </section>
  </main>

  <!-- 상세 모달 -->
  <dialog id="modal" class="modal" aria-labelledby="modalTitle">
    <form method="dialog" class="modal-card">
      <button class="modal-close" aria-label="닫기">×</button>
      <figure class="modal-media">
        <img id="modalImage" alt="" loading="lazy" />
      </figure>
      <div class="modal-body">
        <h3 id="modalTitle"></h3>
        <p id="modalDesc" class="modal-desc"></p>
        <div class="modal-meta">
          <div id="modalTags" class="tags"></div>
        </div>
        <div class="modal-actions">
          <a id="modalLink" class="btn" th:href="@{/portfolios/portfolios}" target="_blank">원본 보기</a>
          <button class="btn ghost" value="cancel">닫기</button>
        </div>
      </div>
    </form>
  </dialog>

  <footer class="site-footer">
    <div class="container footer-inner">
      <p>© <span id="year"></span> kafolio. All rights reserved.</p>
      <ul class="footer-links">
        <li><a href="#">이용약관</a></li>
        <li><a href="#">개인정보처리방침</a></li>
        <li><a href="#">도움말</a></li>
      </ul>
    </div>
  </footer>

  <script src="js/home/home.js"></script>
</body>

</html>